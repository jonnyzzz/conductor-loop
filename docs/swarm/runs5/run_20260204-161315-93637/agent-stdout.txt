The Perplexity MCP is not configured. Let me proceed with the analysis based on the documentation I've read. The technical claims in the spec are standard industry practices that don't require external verification.

Now let me compile my findings:

## Review Output: Message Bus Object Model

### 1) External Facts Check

**Perplexity MCP unavailable** (401 Unauthorized). However, the technical claims in the specs are standard industry practices:
- YAML front-matter with `---` separators: Standard pattern (Jekyll, Hugo, etc.)
- ISO-8601 timestamps: Industry standard for APIs and logging
- SSE vs WebSocket for streaming: Common debate in web architecture
- Atomic writes via temp+swap: Standard pattern for append-only logs
- "Beads" reference (github.com/steveyegge/beads): Mentioned in ideas.md:206 but not critical to spec validation

**No external verification needed** - all technical patterns are well-established.

---

### 2) Spec Updates

#### **subsystem-message-bus-object-model.md**

- **Line 36**: Change `kind: relationship type (see Open Questions).` to `kind: relationship type (free-form; no fixed vocabulary).`
  - Rationale: QUESTIONS file was answered - kinds are flexible, no enforcement.

- **After line 40** (Optional Fields section): Add subsection clarifying the answered question:
  ```markdown
  ## Relationship Kind Vocabulary
  Tooling does not enforce a fixed vocabulary. The `kind` field is free-form to allow agents flexibility. Common values seen in practice:
  - reply (default interpretation for string shorthand)
  - blocks
  - supersedes
  - relates_to
  - answers
  
  These are recommendations only; tooling remains permissive in MVP.
  ```
  - Rationale: Integrate the answer from QUESTIONS commit 43e152d into the main spec.

- **Line 43**: Update backward compatibility statement to be more explicit:
  ```markdown
  - Writers SHOULD prefer object form for any non-reply relationship.
  ```
  No change needed, already clear.

#### **TIPICS.md**

- **Lines 15-17**: Add cross-reference to object model subsystem:
  ```markdown
  - Threading: parents[] links; append-only corrections/updates; parents[] supports string shorthand or structured objects with relationship kind (see subsystem-message-bus-object-model.md for schema).
  ```
  - Rationale: TIPICS mentions structured objects but doesn't link to the dedicated spec.

- **Lines 15-18**: Remove duplicate statement about `kind` validation:
  The open question "Whether tooling should validate relationship kinds or allow free-form strings" is now **answered** - allow free-form.

---

### 3) Questions to Remove/Resolve

#### **subsystem-message-bus-object-model-QUESTIONS.md**

**All questions already answered** (git commit 43e152d):

1. **Remove** (line 3-4):
   ```markdown
   - Q: What is the canonical parents[] object schema (required fields and field names, e.g., msg_id vs message_id)? 
     A: parents objects require msg_id and kind; allow optional meta; accept string shorthand for reply.
   ```
   **Resolution**: Fully answered and integrated into subsystem-message-bus-object-model.md:28-40. This can be **removed** from QUESTIONS file.

2. **Remove** (lines 6-8):
   ```markdown
   - Q: What is the initial vocabulary of relationship kinds (reply, blocks, supersedes, relates_to, answers, etc.) for parents[]? 
     Proposed default: Start with reply (default), blocks, supersedes, relates_to, answers; extend later. 
     A: Agree with proposed, there is no default, the type has to be explicitly specified. Flexible for agent to name it.
   ```
   **Resolution**: Answered - free-form vocabulary with suggested common values. Should be integrated into main spec (see update #2 above) and **removed** from QUESTIONS.

**Current QUESTIONS file has only one question remaining** (line 3):
```markdown
- Q: Should tooling validate `kind` values against a known list or allow free-form strings? | Proposed default: Allow free-form in MVP; log warnings for unknown kinds. | A: TBD.
```

**This question is ANSWERED by the git history** (commit 43e152d states "Flexible for agent to name it"). Should be **resolved as**:
```markdown
A: Allow free-form strings. No validation or warnings in MVP. Tooling is permissive.
```

After resolving, this question should also be **removed** from QUESTIONS file.

**Result**: subsystem-message-bus-object-model-QUESTIONS.md should be **empty or deleted** after moving answers to main spec.

---

### 4) New Open Questions

#### **subsystem-message-bus-object-model-QUESTIONS.md**

1. **Q**: Should `meta` have a recommended schema (e.g., `reason`, `timestamp`, `context`) or remain completely free-form?
   - **Proposed default**: Remain free-form in MVP; consider lightweight schema guidance post-MVP for common use cases like `meta.reason` or `meta.timestamp`.
   - **A**: TBD

2. **Q**: Should agents log a WARNING or INFO message when using a non-standard `kind` value (not in the suggested list)?
   - **Proposed default**: No logging in MVP; treat all kinds equally to avoid noise.
   - **A**: TBD

3. **Q**: When a message has multiple parents with different kinds (e.g., `blocks` + `relates_to`), what is the UI/tooling behavior for threading display?
   - **Proposed default**: Display all relationships; primary thread follows first parent; secondary parents shown as cross-references.
   - **A**: TBD

4. **Q**: Should the object model spec define error handling for malformed parents[] entries (e.g., missing `msg_id` or invalid structure)?
   - **Proposed default**: Tooling skips malformed entries with a log warning; processing continues.
   - **A**: TBD

#### **subsystem-message-bus-tools-QUESTIONS.md**

5. **Q**: How do agents pass structured parents[] objects via CLI `run-agent bus post` (JSON flag vs file input)?
   - **Current status**: Already exists in subsystem-message-bus-tools-QUESTIONS.md:3
   - **Proposed refinement**: Add `--parents-json '{"msg_id":"...", "kind":"..."},...'` flag for CLI; REST endpoint supports full JSON natively.
   - **A**: TBD

---

### 5) New Docs/Topics Suggested

**None required.** The object model is appropriately scoped as a dedicated subsystem spec. However, consider:

#### **Optional Enhancement** (post-MVP):

Create **subsystem-message-bus-object-model-EXAMPLES.md** to illustrate:
- Basic string parents: `parents: [msg-001]`
- Single structured parent: `parents: [{msg_id: msg-001, kind: blocks}]`
- Multiple relationships: `parents: [{msg_id: msg-001, kind: blocks}, {msg_id: msg-002, kind: relates_to}]`
- Using `meta`: `parents: [{msg_id: msg-001, kind: supersedes, meta: {reason: "fixed typo"}}]`
- UI rendering scenarios for threaded views

**Priority**: Low (examples can live in main spec for now).

---

## Summary

**Contradictions Found**: None. The specs are internally consistent.

**Missing Decisions Resolved**:
- All questions in subsystem-message-bus-object-model-QUESTIONS.md are answered (git commit 43e152d).
- The `kind` vocabulary is free-form with suggested common values.

**Action Items**:
1. Integrate answered questions into subsystem-message-bus-object-model.md (add "Suggested Relationship Kinds" section).
2. Remove all answered questions from subsystem-message-bus-object-model-QUESTIONS.md.
3. Update TIPICS.md:15-17 to reference the object model spec.
4. Add 4 new open questions to subsystem-message-bus-object-model-QUESTIONS.md.
5. Retain existing question in subsystem-message-bus-tools-QUESTIONS.md:3 (CLI JSON support).

**No new dedicated doc needed** - the current scope is appropriate.
