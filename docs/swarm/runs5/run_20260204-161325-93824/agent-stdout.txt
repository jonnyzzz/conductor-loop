Perfect. Now I have all the information I need. Let me compile my review:

---

## Message Bus Tooling Subsystem Review

### 1) External Facts Check

**Perplexity MCP verification was attempted but failed due to API authentication issues.** However, the technical claims in the spec are standard approaches:

- **YAML front-matter format**: Standard practice for structured document metadata (used by Jekyll, Hugo, etc.)
- **SSE (Server-Sent Events)**: Standard HTML5 protocol for server-to-client streaming, appropriate for message bus streaming
- **Atomic writes via temp+rename**: Standard UNIX pattern for atomic file updates
- **ULID-style IDs (timestamp+PID)**: Common approach for distributed unique IDs with lexical sorting
- **ISO-8601 UTC timestamps**: Standard timestamp format
- **Advisory file locks**: Standard POSIX mechanism

All technical approaches are industry-standard. No factual verification issues identified.

---

### 2) Spec Updates

**subsystem-message-bus-tools.md**:
- Line 29: Update `--parents <msg_id,...> (optional; string msg_id list only)` to clarify CLI only supports string form currently
  - Add note: "Structured parents objects are posted via REST until CLI support is added."
- Line 30: Already states agents rely on JRUN_* env vars; confirmed correct
- Line 108: Update compaction section from "No compaction/cleanup in MVP" to be more explicit:
  - Change "No compaction/rotation strategy yet; files can grow." to "No compaction/cleanup in MVP; files can grow (append-only)."
- Line 127: Already includes routing clarification; no update needed

**subsystem-message-bus-tools-QUESTIONS.md**:
- Update the single remaining question about structured parents[] CLI support to reference the latest answer from git history (commit 399147b):
  - The answer indicates structured parents are supported via REST or future CLI extensions
  - CLI currently only supports string form `--parents <msg_id,...>`

**subsystem-message-bus-object-model.md**:
- No updates needed; spec is comprehensive and consistent with tools spec
- Already documents both string and object forms
- Already references beads-style relationships (from ideas.md line 207)

**TIPICS.md**:
- Topic 1 (Message Bus Format & Threading) already captures all decisions correctly
- Open question about CLI structured parents[] support should reference that REST is the current path for structured parents

---

### 3) Questions to Remove/Resolve

**subsystem-message-bus-tools-QUESTIONS.md**:

**Q to UPDATE (not remove)**:
- Current: "Q: How do agents pass structured parents[] objects via CLI `run-agent bus post` (JSON flag vs file input)? | Proposed default: Add `--parents-json` or rely on REST for structured posts. | A: TBD."
- Resolution summary: Based on subsystem-message-bus-tools.md:29-30 and git history (commit 399147b), the decision is:
  - CLI `--parents` accepts comma-separated string msg_id list only
  - Structured parents objects (with `kind` field) are submitted via REST POST /api/bus endpoint
  - Future CLI extension could add `--parents-json` flag but is deferred post-MVP
- Proposed update: "Q: How do agents pass structured parents[] objects via CLI `run-agent bus post`? | A: CLI supports string form only (`--parents <msg_id,...>`). Structured parents objects are posted via REST POST /api/bus. Future CLI support (`--parents-json`) is post-MVP."

**subsystem-message-bus-object-model-QUESTIONS.md**:

**Q to KEEP (with context)**:
- Current: "Q: Should tooling validate `kind` values against a known list or allow free-form strings? | Proposed default: Allow free-form in MVP; log warnings for unknown kinds. | A: TBD."
- Recommendation: Keep this question open. The object model spec (subsystem-message-bus-object-model.md:36,53) explicitly states "free-form; no fixed vocabulary" and "tooling remains permissive in MVP", but this question asks about validation/warnings which is an implementation detail not yet decided.

---

### 4) New Open Questions

**subsystem-message-bus-tools-QUESTIONS.md** (new questions to add):

1. **Q**: Should the REST POST /api/bus endpoint validate parents[] object structure (require msg_id and kind fields) or accept arbitrary parent objects?
   - **Proposed default**: Validate that msg_id is present and non-empty; kind is optional (default to "reply" if missing); meta is optional free-form.
   - **A**: TBD

2. **Q**: Should `run-agent bus poll --filter` support filtering by parents[] relationships (e.g., `--filter "parent:msg_123"` or `--filter "kind:blocks"`)?
   - **Proposed default**: Not in MVP; add if UI/agents need it. Linear regex scan already supports searching message bodies for msg_id references.
   - **A**: TBD

3. **Q**: When UI displays threaded messages, should it resolve parent chains recursively (full thread from root) or show only immediate parents?
   - **Proposed default**: Show immediate parents in metadata; provide "expand thread" action to load full chain on demand.
   - **A**: TBD (this may belong in subsystem-monitoring-ui-QUESTIONS.md instead)

**subsystem-message-bus-object-model-QUESTIONS.md** (new question):

1. **Q**: Should messages be allowed to have parents[] from a different scope (e.g., task message referencing project message, or cross-task references)?
   - **Proposed default**: Allow cross-scope references; tooling resolves by scanning both PROJECT-MESSAGE-BUS.md and TASK-MESSAGE-BUS.md when building threads. UI indicates cross-scope parent links with different styling.
   - **A**: TBD

---

### 5) New Docs/Topics Suggested

**No new dedicated docs needed.** The existing split between `subsystem-message-bus-tools.md` (CLI/REST interfaces, format, operations) and `subsystem-message-bus-object-model.md` (parents[] schema and relationships) is appropriate and clean.

**Optional enhancement**: Consider adding a **Message Bus Examples** section or appendix to either:
- `subsystem-message-bus-tools.md` (at the end), OR
- A new `subsystem-message-bus-EXAMPLES.md` file

This would show concrete YAML examples of:
- Simple FACT/QUESTION/ANSWER exchange with string parents
- ISSUE with structured parents (blocks, relates_to)
- Correction/update chain using parents[]
- Large message with attachment_path
- Cross-scope reference (task message referencing project FACT)

Examples would help implementers understand the format without ambiguity.

---

## Summary of Contradictions Found

**No critical contradictions** between ideas.md, TIPICS.md, and the subsystem specs. Minor clarifications needed:

1. **CLI vs REST for structured parents[]**: Now clarified - CLI is string-only, REST supports objects
2. **Compaction strategy**: Consistently stated as "no cleanup in MVP" across all docs
3. **Message types**: Canonical list is stable (FACT, QUESTION, ANSWER, USER, START, STOP, ERROR, INFO, WARNING, OBSERVATION, ISSUE)
4. **Attachment storage**: Clarified in latest spec updates (task folder, timestamp naming)

The git history shows steady convergence of answers from TBD to concrete decisions. Latest commits (399147b, 43e152d) finalized key open questions. The one remaining substantive question is about CLI support for structured parents[], which is now answered: use REST.
