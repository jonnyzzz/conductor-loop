The Perplexity API is not configured. Let me proceed with the analysis based on the documentation I've reviewed. The external claims about SSE, WebSockets, REST/JSON, and TypeScript are standard web technologies that don't require verification.

Now I'll compile my findings:

## Review of Topic 10: Frontend-Backend API Contract

### 1) External Facts Check

**Status:** No external factual verification needed or performed.

The specs reference standard web technologies (REST/JSON APIs, Server-Sent Events, WebSockets, TypeScript, React) that are well-established. Perplexity MCP is not configured, but these technologies don't require verification as they are industry-standard patterns. The specifications make reasonable architectural choices that align with common practice for Go-based backends serving React SPAs.

### 2) TIPICS Updates

**Topic 10: Frontend-Backend API Contract** needs expansion with the concrete decisions found in the specs:

- **Add to Decisions:**
  - TypeScript types: No formal generation strategy yet; manual sync or future OpenAPI/code-gen deferred.
  - Build tooling: Vite preferred for UI development with separate dev server + proxy; go:embed for production assets.
  - State management: React Context + hooks sufficient for MVP; no Redux/Zustand needed.
  - Development workflow: Separate dev server proxying to Go backend for development; embedded dist folder for release.
  - Message bus rendering: Plain text in MVP with JetBrains Mono; no Markdown rendering.
  - CLI structured parents: `--parents` flag supports string shorthand only; structured objects posted via REST until CLI enhancement.

- **Update Open Questions section:**
  - Remove: "Endpoint schemas, versioning, and generated TypeScript types" (partially resolved: manual sync for MVP, formal schema generation deferred)
  - Add: "When to introduce TypeScript type generation (OpenAPI spec vs manual type definitions)?"
  - Add: "UI build/embedding workflow details (Vite config, proxy setup, go:embed integration)"
  - Add: "API versioning strategy (path-based /api/v1 vs header-based vs none for MVP)"

### 3) Spec Updates

**subsystem-monitoring-ui.md:**
- Add section "## Build & Deployment":
  - Specify Vite as build tool
  - Document development workflow (dev server + proxy)
  - Document production workflow (go:embed dist/)
  - Reference JetBrains Mono as required font

- Add section "## API Integration":
  - Document that UI consumes REST/JSON endpoints from run-agent serve
  - List expected endpoint patterns: GET /api/bus/stream, POST /api/bus, GET /api/projects, GET /api/tasks/:id, etc.
  - Note that TypeScript types are manually maintained in MVP
  - Specify SSE preference over WS for streaming

**subsystem-message-bus-tools.md:**
- Update "### run-agent bus post" section:
  - Clarify that `--parents <msg_id,...>` accepts comma-separated string list only
  - Add note: "Structured parents objects (with kind and other fields) are posted via REST POST /api/bus until CLI support is added."

- Add missing REST endpoint details:
  - Document POST /api/bus request/response schema (JSON body with project, task, type, message, parents array, attachment_path)
  - Document GET /api/bus/stream query parameters and SSE event format
  - Note that authentication is not implemented (localhost-only in MVP)

**subsystem-monitoring-ui-QUESTIONS.md:**
- Add: "Q: Which build tool should be used for the TypeScript + React UI (Vite, CRA, custom)? | Proposed default: Vite for fast dev and optimized builds. | A: TBD."
- Add: "Q: How are frontend assets embedded into the Go binary (go:embed vs external assets)? | Proposed default: go:embed of a built dist folder. | A: TBD."
- Add: "Q: What is the API contract between the Go backend and the UI (REST/JSON schemas, SSE event formats), and how are TypeScript types generated? | Proposed default: REST/JSON + SSE; add OpenAPI or manual type sync later. | A: TBD."
- Add: "Q: What is the development workflow for the UI (separate dev server with proxy vs embedded only)? | Proposed default: Separate dev server with proxy to Go backend; embed for release. | A: TBD."
- Add: "Q: Do we need a state management library (Redux/Zustand) or is React Context sufficient for MVP? | Proposed default: Context + hooks for MVP. | A: TBD."

**subsystem-message-bus-tools-QUESTIONS.md:**
- Add: "Q: How do agents pass structured parents[] objects via CLI `run-agent bus post` (JSON flag vs file input)? | Proposed default: Add `--parents-json` or rely on REST for structured posts. | A: TBD."

### 4) Questions to Remove/Resolve

**subsystem-monitoring-ui-QUESTIONS.md:**
- **REMOVE (resolved):** "Q: When should multi-host backend selection be introduced (MVP vs later)?" 
  - **Resolution:** Answered "Not now. We support only 1 backend." Post-MVP scope confirmed; localhost-only for MVP.

**subsystem-message-bus-tools-QUESTIONS.md:**
- **REMOVE (resolved):** "Q: Should message bus compaction/cleanup be supported (rewrite/compact) or remain strictly append-only in MVP?"
  - **Resolution:** Answered "No cleanup is needed. Atomic writes to the file." Append-only confirmed; no compaction/archival in MVP.

### 5) New Open Questions

**subsystem-monitoring-ui-QUESTIONS.md:**
- Q: Which build tool should be used for the TypeScript + React UI (Vite, CRA, custom)? | Proposed default: Vite for fast dev and optimized builds. | A: TBD.
- Q: How are frontend assets embedded into the Go binary (go:embed vs external assets)? | Proposed default: go:embed of a built dist folder. | A: TBD.
- Q: What is the API contract between the Go backend and the UI (REST/JSON schemas, SSE event formats), and how are TypeScript types generated? | Proposed default: REST/JSON + SSE; add OpenAPI or manual type sync later. | A: TBD.
- Q: What is the development workflow for the UI (separate dev server with proxy vs embedded only)? | Proposed default: Separate dev server with proxy to Go backend; embed for release. | A: TBD.
- Q: Do we need a state management library (Redux/Zustand) or is React Context sufficient for MVP? | Proposed default: Context + hooks for MVP. | A: TBD.

**subsystem-message-bus-tools-QUESTIONS.md:**
- Q: How do agents pass structured parents[] objects via CLI `run-agent bus post` (JSON flag vs file input)? | Proposed default: Add `--parents-json` or rely on REST for structured posts. | A: TBD.

---

**Key Finding:** Topic 10 is underspecified in TIPICS.md. The monitoring UI and message bus tools specs contain significant API contract details (REST endpoints, SSE streaming, JSON schemas, CLI vs REST differences) that are missing from the topic summary. The git history shows recent clarifications around UI build tooling and TypeScript type generation that should be consolidated into TIPICS and the questions files.
